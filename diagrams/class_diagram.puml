@startuml
' Class Diagram for PfeAziz Application

' User Management
class App_user {
  -Long id
  -String username
  -String password
  -Collection<User_Role> user_roles
  +getAuthorities(): Collection<? extends GrantedAuthority>
  +getPassword(): String
  +getUsername(): String
  +isAccountNonExpired(): boolean
  +isAccountNonLocked(): boolean
  +isCredentialsNonExpired(): boolean
  +isEnabled(): boolean
}

class User_Role {
  -Long id
  -String name
  +getAuthority(): String
}

' Reference Data
class Ilot {
  -Long id
  -String name
}

class Machine {
  -Long id
  -String name
}

class Metier {
  -Long id
  -String name
}

class Programme {
  -Long id
  -String name
}

' Demand Classes
abstract class BaseDemande {
  -Long id
  -String status
  -String startcontrole
  -String finishcontrole
  -String dureeDeLaTache
  -Boolean startClicked
  -Boolean finishClicked
  -Boolean resultatClicked
  -Boolean hidden
}

class Demande {
  -String operateur
  -String ilot
  -String metier
  -String date
  -String time
  -String controleur
  -String etq
  -String defaut
  -String programme
  -Boolean urgent
  -String sn
  -String of_demande
  -String nombre_produit_controle
  -String quantite_controle_metier
  -String quantite_non_conforme
}

class DemandeDelegue {
  -String of_demande
  -String ilot
  -String metier
  -String date_demande
  -String time_demande
  -String controleur
  -String etq
  -String defaut
  -String programme
  -Boolean urgent
  -String sn
  -String nombre_produit_controle
  -String quantite_controle_metier
  -String quantite_non_conforme
}

class DemandeFinale {
  -String of_demande
  -String ilot
  -String metier
  -String date
  -String time
  -String controleur
  -String etq
  -String defaut
  -String programme
  -Boolean urgent
  -String sn
  -String nombre_produit_controle
  -String quantite_non_conforme
}

class DemandeTe {
  -String operateur
  -String date
  -String time
  -String controleur
  -String machine
  -String dureeAttente
  -String programme
  -Boolean urgent
  -String sn
  -String ilot
}

' Relationships
App_user "1" -- "many" User_Role : has >
Demande -- Ilot : references >
Demande -- Metier : references >
Demande -- Programme : references >
DemandeDelegue -- Ilot : references >
DemandeDelegue -- Metier : references >
DemandeDelegue -- Programme : references >
DemandeFinale -- Ilot : references >
DemandeFinale -- Metier : references >
DemandeFinale -- Programme : references >
DemandeTe -- Machine : references >
DemandeTe -- Programme : references >
DemandeTe -- Ilot : references >

' Note: The actual implementation doesn't use inheritance, but it would be a good design improvement
note "Note: BaseDemande is a suggested abstract class that could be used to reduce code duplication" as N1

@enduml